<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CV Builder - Printable CV</title>
        <meta name="description" content="Create professional CVs and resumes with our free CV builder. Choose from 5 beautiful templates, customize page settings, and download as PDF instantly. No registration required.">
        <meta name="keywords" content="CV builder, resume builder, CV generator, resume generator, professional CV, PDF CV, CV templates, resume templates">
        <meta name="author" content="CV Builder">
        
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:title" content="CV Builder - Printable CV">
        <meta property="og:description" content="Create professional CVs and resumes with our free CV builder. Choose from 5 beautiful templates and download as PDF instantly.">
        
        <!-- Twitter -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="CV Builder - Printable CV">
        <meta name="twitter:description" content="Create professional CVs and resumes with our free CV builder. Choose from 5 beautiful templates and download as PDF instantly.">
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            // Suppress Tailwind CDN production warning - CDN is appropriate for this standalone application
            const originalWarn = console.warn;
            console.warn = function(...args) {
                if (args[0] && typeof args[0] === 'string' && args[0].includes('cdn.tailwindcss.com should not be used in production')) {
                    return; // Suppress this specific warning
                }
                originalWarn.apply(console, args);
            };
            
            tailwind.config = {
                darkMode: 'class',
                theme: {
                    extend: {
                        borderRadius: {
                            lg: 'var(--radius)',
                            md: 'calc(var(--radius) - 2px)',
                            sm: 'calc(var(--radius) - 4px)'
                        }
                    }
                }
            }
        </script>
        <style>
                    
                    :root {
                        --radius: 0.65rem;
                        --background: 0 0% 100%;
                        --foreground: 0 0% 3.9%;
                        --card: 0 0% 100%;
                        --card-foreground: 0 0% 3.9%;
                        --popover: 0 0% 100%;
                        --popover-foreground: 0 0% 3.9%;
                        --primary: 0 0% 9%;
                        --primary-foreground: 0 0% 98%;
                        --secondary: 0 0% 96.1%;
                        --secondary-foreground: 0 0% 9%;
                        --muted: 0 0% 96.1%;
                        --muted-foreground: 0 0% 45.1%;
                        --accent: 0 0% 96.1%;
                        --accent-foreground: 0 0% 9%;
                        --destructive: 0 84.2% 60.2%;
                        --destructive-foreground: 0 0% 98%;
                        --border: 0 0% 89.8%;
                        --input: 0 0% 89.8%;
                        --ring: 0 0% 3.9%;
                        --chart-1: 12 76% 61%;
                        --chart-2: 173 58% 39%;
                        --chart-3: 197 37% 24%;
                        --chart-4: 43 74% 66%;
                        --chart-5: 27 87% 67%;
                        --sidebar: 0 0% 98%;
                        --sidebar-foreground: 0 0% 3.9%;
                        --sidebar-primary: 0 0% 9%;
                        --sidebar-primary-foreground: 0 0% 98%;
                        --sidebar-accent: 0 0% 96.1%;
                        --sidebar-accent-foreground: 0 0% 9%;
                        --sidebar-border: 0 0% 89.8%;
                        --sidebar-ring: 0 0% 3.9%;
                    }
                        
                    .dark {
                        --background: 0 0% 3.9%;
                        --foreground: 0 0% 98%;
                        --card: 0 0% 9%;
                        --card-foreground: 0 0% 98%;
                        --popover: 0 0% 9%;
                        --popover-foreground: 0 0% 98%;
                        --primary: 0 0% 89.8%;
                        --primary-foreground: 0 0% 9%;
                        --secondary: 0 0% 14.9%;
                        --secondary-foreground: 0 0% 98%;
                        --muted: 0 0% 14.9%;
                        --muted-foreground: 0 0% 63.9%;
                        --accent: 0 0% 14.9%;
                        --accent-foreground: 0 0% 98%;
                        --destructive: 0 62.8% 30.6%;
                        --destructive-foreground: 0 0% 98%;
                        --border: 0 0% 100% / 0.1;
                        --input: 0 0% 100% / 0.15;
                        --ring: 0 0% 45.1%;
                        --chart-1: 220 70% 50%;
                        --chart-2: 160 60% 45%;
                        --chart-3: 30 80% 55%;
                        --chart-4: 280 65% 60%;
                        --chart-5: 340 75% 55%;
                        --sidebar: 0 0% 9%;
                        --sidebar-foreground: 0 0% 98%;
                        --sidebar-primary: 220 70% 50%;
                        --sidebar-primary-foreground: 0 0% 98%;
                        --sidebar-accent: 0 0% 14.9%;
                        --sidebar-accent-foreground: 0 0% 98%;
                        --sidebar-border: 0 0% 100% / 0.1;
                        --sidebar-ring: 0 0% 45.1%;
                    }
            
                    
                    
                    /* Ensure template selection outline is visible */
                    input[name="template"]:checked ~ div {
                        border-color: var(--ring) !important;
                        box-shadow: 0 0 0 2px hsl(from var(--ring) h s l / 0.2), 0 0 0 4px hsl(from var(--ring) h s l / 0.1) !important;
                        background-color: hsl(from var(--accent) h s l / 0.5) !important;
                    }
                    
                    /* Fallback for browsers that support :has() */
                    label:has(input[name="template"]:checked) > div {
                        border-color: var(--ring) !important;
                        box-shadow: 0 0 0 2px hsl(from var(--ring) h s l / 0.2), 0 0 0 4px hsl(from var(--ring) h s l / 0.1) !important;
                        background-color: hsl(from var(--accent) h s l / 0.5) !important;
                    }
                    
                    /* shadcn/ui color utilities for Tailwind v3 */
                    .bg-background { background-color: hsl(var(--background)); }
                    .bg-card { background-color: hsl(var(--card)); }
                    .bg-popover { background-color: hsl(var(--popover)); }
                    .bg-primary { background-color: hsl(var(--primary)); }
                    .bg-secondary { background-color: hsl(var(--secondary)); }
                    .bg-muted { background-color: hsl(var(--muted)); }
                    .bg-accent { background-color: hsl(var(--accent)); }
                    .bg-destructive { background-color: hsl(var(--destructive)); }
                    
                    .text-foreground { color: hsl(var(--foreground)); }
                    .text-card-foreground { color: hsl(var(--card-foreground)); }
                    .text-popover-foreground { color: hsl(var(--popover-foreground)); }
                    .text-primary-foreground { color: hsl(var(--primary-foreground)); }
                    .text-secondary-foreground { color: hsl(var(--secondary-foreground)); }
                    .text-muted-foreground { color: hsl(var(--muted-foreground)); }
                    .text-accent-foreground { color: hsl(var(--accent-foreground)); }
                    .text-destructive-foreground { color: hsl(var(--destructive-foreground)); }
                    
                    .border-border { border-color: hsl(var(--border)); }
                    .border-input { border-color: hsl(var(--input)); }
                    .border-ring { border-color: hsl(var(--ring)); }
                    
                    .ring-ring { --tw-ring-color: hsl(var(--ring)); }
                    .ring-ring\/50 { 
                        --tw-ring-color: hsl(var(--ring));
                        --tw-ring-opacity: 0.5;
                    }
                    
                    .ring-offset-background { --tw-ring-offset-color: hsl(var(--background)); }
                    
                    /* Opacity variants */
                    .bg-primary\/90 { background-color: hsl(var(--primary) / 0.9); }
                    .bg-secondary\/80 { background-color: hsl(var(--secondary) / 0.8); }
                    .bg-muted\/50 { background-color: hsl(var(--muted) / 0.5); }
                    .bg-accent\/50 { background-color: hsl(var(--accent) / 0.5); }
                    .bg-destructive\/90 { background-color: hsl(var(--destructive) / 0.9); }
                    
                    .hover\:bg-primary\/90:hover { background-color: hsl(var(--primary) / 0.9); }
                    .hover\:bg-secondary\/80:hover { background-color: hsl(var(--secondary) / 0.8); }
                    button.bg-destructive\/90::before,
                    .hover\:bg-destructive\/90:hover::before {
                        content: '';
                        position: absolute;
                        inset: 0;
                        background-color: var(--destructive);
                        opacity: 0.9;
                        z-index: -1;
                        border-radius: inherit;
                    }
                    
                    /* Drawer styles */
                    .drawer-closed {
                        width: 0px;
                    }
                    .drawer-open {
                        width: 280px;
                    }
                    .drawer-item-icon {
                        transition: all 0.2s ease;
                    }
                    .drawer-item.active {
                        background-color: hsl(var(--primary));
                        color: hsl(var(--primary-foreground));
                    }
                    .drawer-item.active .drawer-item-icon {
                        color: hsl(var(--primary-foreground));
                    }
                    .drawer-item.active .drawer-item-content {
                        color: hsl(var(--primary-foreground));
                    }
                    .drawer-item.active .drawer-item-content .text-muted-foreground {
                        color: hsl(var(--primary-foreground) / 0.8);
                    }
                    
                    /* Drawer toggle button transitions */
                    #drawerToggle {
                        transition: all 0.3s ease-in-out;
                    }
                    #drawerToggleIcon {
                        transition: all 0.3s ease-in-out;
                    }
                    #drawerToggleText {
                        transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
                    }
        </style>
    </head>
    <body class="bg-background text-foreground min-h-screen print:bg-white print:p-0 print:m-0">
        <!-- Left Drawer -->
        <div id="leftDrawer" class="fixed left-0 top-0 h-full bg-card border-r border-border shadow-xl/30 z-40 transition-all duration-300 ease-in-out drawer-closed print:hidden">
            <!-- Drawer Toggle Button -->
            <button id="drawerToggle" onclick="toggleDrawer()" class="flex flex-col gap-2 absolute top-1/2 -translate-y-1/2 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border border-border rounded-lg shadow-lg p-4 print:hidden items-center justify-center" style="width: 120px; height: 120px; right: -145px; transition: all 0.3s ease-in-out;">
                <p id="drawerToggleText" class="text-sm text-muted-foreground text-center" style="opacity: 1; transform: scale(1); transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;">Treat Me Coffee</p>
                <svg id="drawerToggleIcon" class="text-foreground" style="width: 50px; height: 50px; transition: all 0.3s ease-in-out;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.121 18.121" xml:space="preserve"><path style="fill:#e4e7e7" d="m15.292 3.397-1.717 14.724H4.548L2.829 3.397z"/><path style="fill:#c8cbcb" d="m4.417 16.992.132 1.129h9.026l.131-1.129zM2.896 3.964l1.351 11.569L15.217 4.04l.01-.076z"/><path style="fill:#349886" d="M9.061 6.795a3.399 3.399 0 1 0 .002 6.798 3.399 3.399 0 0 0-.002-6.798m1.678 4.907c-.302-.167-.701-.289-1.152-.344l.023-.181a1.128 1.128 0 0 0-.549-2.118c-.625 0-1.133.507-1.133 1.133 0 .425.237.791.584.984l.024.181c-.452.056-.851.177-1.152.344a2.25 2.25 0 0 1-.588-1.509 2.265 2.265 0 1 1 4.53 0c0 .583-.225 1.108-.587 1.51"/><path style="fill:#2b414d" d="M2.832 1.699H15.29c.626 0 1.133.507 1.133 1.133v1.133H1.699V2.831c0-.626.507-1.133 1.133-1.133"/><path style="fill:#475f6c" d="M4.53 0h9.061c.626 0 1.133.507 1.133 1.133v.566H3.398v-.566C3.398.507 3.905 0 4.53 0"/><path style="fill:#2e8676" d="M9.061 9.061c-.625 0-1.133.507-1.133 1.133 0 .397.211.736.52.938l1.528-1.6a1.13 1.13 0 0 0-.916-.47m0-2.265a3.399 3.399 0 0 0-2.193 5.992l1.303-1.365a2.9 2.9 0 0 0-.788.281 2.25 2.25 0 0 1-.588-1.51A2.265 2.265 0 0 1 9.059 7.93c.681 0 1.284.306 1.699.781l.788-.826a3.38 3.38 0 0 0-2.487-1.089"/></svg>
            </button>
            
            <!-- Drawer Content -->
            <div class="h-full flex flex-col py-4 overflow-hidden">
                <!-- Drawer Items Container -->
                <div class="flex-1 flex flex-col items-center justify-center gap-4 px-4">
                    <!-- Title -->
                    <h2 class="text-xl font-bold text-foreground text-center">Treat me coffee</h2>
                    
                    <!-- Image -->
                    <div class="flex justify-center cursor-pointer" onclick="openImageModal()">
                        <img src="images/G700863694-0703A01-default.png" alt="Coffee" class="max-w-full h-auto rounded-lg shadow-md hover:opacity-80 transition-opacity">
                    </div>
                    
                    <!-- Thanks -->
                    <p class="text-sm text-muted-foreground text-center">Thanks</p>
                </div>
            </div>
        </div>
        
        <!-- Image Modal -->
        <div id="imageModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden items-center justify-center print:hidden" onclick="closeImageModal(event)">
            <div class="relative max-w-4xl max-h-[90vh] mx-4" onclick="event.stopPropagation()">
                <!-- Close Button -->
                <button onclick="closeImageModal()" class="absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
                <!-- Image -->
                <img src="images/G700863694-0703A01-default.png" alt="Coffee" class="max-w-full max-h-[90vh] rounded-lg shadow-2xl object-contain">
            </div>
        </div>
        
        <!-- Main Content with Drawer Offset -->
        <div class="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-4 md:p-6 print:p-0 print:m-0 print:bg-white transition-all duration-300" id="mainContent">
            <div
                class="max-w-4xl mx-auto bg-card rounded-lg border border-border shadow-sm print:max-w-none print:shadow-none print:rounded-none print:border-0 print:m-0">
                <!-- Fixed Action Buttons at Top -->
                <div class="sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border print:hidden">
                    <div class="p-4 md:p-6">
                        <div class="flex flex-col sm:flex-row gap-4 items-center justify-between">
                            <div class="flex items-center gap-4">
                                <h1 class="text-xl md:text-2xl font-bold tracking-tight">CV Builder</h1>
                            </div>
                            <div class="flex flex-col sm:flex-row gap-3 w-full sm:w-auto">
                                <button type="submit" form="cvForm" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] bg-primary text-primary-foreground hover:bg-primary/90 h-9 rounded-md gap-1.5 px-4 flex-1 sm:flex-none">Generate CV Preview</button>
                                <button type="button" onclick="saveAsJSON()" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] bg-secondary text-secondary-foreground hover:bg-secondary/80 h-9 rounded-md gap-1.5 px-4 flex-1 sm:flex-none">Save as JSON</button>
                                <button type="button" onclick="loadFromJSON()" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 rounded-md gap-1.5 px-4 flex-1 sm:flex-none">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path>
                                    </svg>
                                    Load from JSON
                                </button>
                                <button id="themeToggle" type="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] bg-secondary text-secondary-foreground hover:bg-secondary/80 h-9 w-9 rounded-md gap-1.5" aria-label="Toggle theme" title="Toggle light/dark theme">
                                    <svg id="sunIcon" class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                                    </svg>
                                    <svg id="moonIcon" class="h-5 w-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Header -->
                <header class="border-b border-border bg-card p-6 md:p-8 text-center print:hidden">
                    <h2 class="text-2xl md:text-3xl font-bold tracking-tight mb-2">Create Your Professional CV</h2>
                    <p class="text-muted-foreground text-sm md:text-base">Fill out the form below and generate Your CV Preview</p>
                </header>

                <form
                    id="cvForm" class="p-6 md:p-8 block print:hidden">
                    <!-- Template Selection -->
                    <section class="mb-8 space-y-4">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold tracking-tight">Select Template</h2>
                            <p class="text-sm text-muted-foreground">Choose a template style for Your CV Preview</p>
                        </div>
                        <div class="overflow-x-auto pb-4 -mx-4 px-4">
                            <div class="flex gap-4 min-w-max items-stretch">
                                <!-- Classic template commented out - template files and functions remain intact -->
                                <!--
                                <label class="group relative cursor-pointer flex-shrink-0 flex">
                                    <input type="radio" name="template" value="classic" class="sr-only peer" checked>
                                    <div class="rounded-lg border-2 border-border bg-card p-4 transition-all hover:border-ring hover:shadow-md peer-checked:border-ring peer-checked:ring-2 peer-checked:ring-ring peer-checked:ring-offset-2 peer-checked:shadow-lg peer-checked:bg-accent/50 w-64 flex flex-col">
                                        <div class="font-semibold text-base mb-1 flex items-center gap-2">
                                            <span>Classic</span>
                                            <span class="peer-checked:opacity-100 opacity-0 text-ring text-xs">✓ Selected</span>
                                        </div>
                                        <div class="text-sm text-muted-foreground mb-3">Professional template - ATS-friendly format</div>
                                        <div class="rounded-md border border-border bg-muted p-2 space-y-1">
                                            <div class="text-xs font-semibold text-center">CLASSIC TEMPLATE</div>
                                            <div class="text-xs text-muted-foreground border-t border-border pt-1 mt-1">EDUCATION</div>
                                            <div class="text-xs">• Professional format</div>
                                            <div class="text-xs">• ATS-friendly</div>
                                            <div class="text-xs">• Professional layout</div>
                                        </div>
                                    </div>
                                </label>
                                -->
                                <!-- LuxSleek template commented out - template files and functions remain intact -->
                                <!--
                                <label class="group relative cursor-pointer flex-shrink-0 flex">
                                    <input type="radio" name="template" value="luxsleek" class="sr-only peer" checked>
                                    <div class="rounded-lg border-2 border-border bg-card p-4 transition-all hover:border-ring hover:shadow-md peer-checked:border-ring peer-checked:ring-2 peer-checked:ring-ring peer-checked:ring-offset-2 peer-checked:shadow-lg peer-checked:bg-accent/50 w-64 flex flex-col">
                                        <div class="font-semibold text-base mb-1 flex items-center gap-2">
                                            <span>LuxSleek</span>
                                            <span class="peer-checked:opacity-100 opacity-0 text-ring text-xs">✓ Selected</span>
                                        </div>
                                        <div class="text-sm text-muted-foreground mb-3">Two-column layout with blue sidebar - Modern design</div>
                                        <div class="rounded-md border border-border bg-muted p-2 space-y-1">
                                            <div class="text-xs font-semibold text-center flex items-center justify-center gap-2">
                                                <span>LUXSLEEK TEMPLATE</span>
                                            </div>
                                            <div class="text-xs text-muted-foreground border-t border-border pt-1 mt-1">Two-column layout</div>
                                            <div class="text-xs">• Blue sidebar design</div>
                                            <div class="text-xs">• Right-aligned dates</div>
                                            <div class="text-xs">• Modern professional</div>
                                        </div>
                                    </div>
                                </label>
                                -->
                                <label class="group relative cursor-pointer flex-shrink-0 flex">
                                    <input type="radio" name="template" value="minimal" class="sr-only peer" checked>
                                    <div class="rounded-lg border-2 border-border bg-card p-4 transition-all hover:border-ring hover:shadow-md peer-checked:border-ring peer-checked:ring-2 peer-checked:ring-ring peer-checked:ring-offset-2 peer-checked:shadow-lg peer-checked:bg-accent/50 w-64 flex flex-col">
                                        <div class="font-semibold text-base mb-1 flex items-center gap-2">
                                            <span>Minimal</span>
                                            <span class="peer-checked:opacity-100 opacity-0 text-ring text-xs">✓ Selected</span>
                                        </div>
                                        <div class="text-sm text-muted-foreground mb-3">Clean two-column minimalist design - Simple and elegant</div>
                                        <div class="rounded-md border border-border bg-muted p-2 space-y-1">
                                            <div class="text-xs font-semibold text-center">MINIMAL TEMPLATE</div>
                                            <div class="text-xs text-muted-foreground border-t border-border pt-1 mt-1">EXPERIENCE</div>
                                            <div class="text-xs">• Clean design</div>
                                            <div class="text-xs">• Minimalist layout</div>
                                            <div class="text-xs">• Professional appearance</div>
                                        </div>
                                    </div>
                                </label>
                                <label class="group relative cursor-pointer flex-shrink-0 flex">
                                    <input type="radio" name="template" value="modern" class="sr-only peer">
                                    <div class="rounded-lg border-2 border-border bg-card p-4 transition-all hover:border-ring hover:shadow-md peer-checked:border-ring peer-checked:ring-2 peer-checked:ring-ring peer-checked:ring-offset-2 peer-checked:shadow-lg peer-checked:bg-accent/50 w-64 flex flex-col">
                                        <div class="font-semibold text-base mb-1 flex items-center gap-2">
                                            <span>Modern</span>
                                            <span class="peer-checked:opacity-100 opacity-0 text-ring text-xs">✓ Selected</span>
                                        </div>
                                        <div class="text-sm text-muted-foreground mb-3">Single column clean layout - Based on Figma design</div>
                                        <div class="rounded-md border border-border bg-muted p-2 space-y-1">
                                            <div class="text-xs font-semibold text-center">MODERN TEMPLATE</div>
                                            <div class="text-xs text-muted-foreground border-t border-border pt-1 mt-1">EXPERIENCE</div>
                                            <div class="text-xs">• Clean single column</div>
                                            <div class="text-xs">• Poppins font</div>
                                            <div class="text-xs">• Professional design</div>
                                        </div>
                                    </div>
                                </label>
                                <label class="group relative cursor-pointer flex-shrink-0 flex">
                                    <input type="radio" name="template" value="nabhel" class="sr-only peer">
                                    <div class="rounded-lg border-2 border-border bg-card p-4 transition-all hover:border-ring hover:shadow-md peer-checked:border-ring peer-checked:ring-2 peer-checked:ring-ring peer-checked:ring-offset-2 peer-checked:shadow-lg peer-checked:bg-accent/50 w-64 flex flex-col">
                                        <div class="font-semibold text-base mb-1 flex items-center gap-2">
                                            <span>Nabhel</span>
                                            <span class="peer-checked:opacity-100 opacity-0 text-ring text-xs">✓ Selected</span>
                                        </div>
                                        <div class="text-sm text-muted-foreground mb-3">Two-column layout with sidebar - Perfect for UX/UI designers</div>
                                        <div class="rounded-md border border-border bg-muted p-2 space-y-1">
                                            <div class="text-xs font-semibold text-center">PRODUCT DESIGNER</div>
                                            <div class="text-xs text-muted-foreground border-t border-border pt-1 mt-1">ABOUT ME</div>
                                            <div class="text-xs">• Sidebar layout</div>
                                            <div class="text-xs">• Social links</div>
                                            <div class="text-xs">• Modern design</div>
                                        </div>
                                    </div>
                                </label>
                                <label class="group relative cursor-pointer flex-shrink-0 flex">
                                    <input type="radio" name="template" value="yodi" class="sr-only peer">
                                    <div class="rounded-lg border-2 border-border bg-card p-4 transition-all hover:border-ring hover:shadow-md peer-checked:border-ring peer-checked:ring-2 peer-checked:ring-ring peer-checked:ring-offset-2 peer-checked:shadow-lg peer-checked:bg-accent/50 w-64 flex flex-col">
                                        <div class="font-semibold text-base mb-1 flex items-center gap-2">
                                            <span>Yodi</span>
                                            <span class="peer-checked:opacity-100 opacity-0 text-ring text-xs">✓ Selected</span>
                                        </div>
                                        <div class="text-sm text-muted-foreground mb-3">Professional UX/UI designer template - Clean and modern</div>
                                        <div class="rounded-md border border-border bg-muted p-2 space-y-1">
                                            <div class="text-xs font-semibold text-center">UX/UI DESIGNER</div>
                                            <div class="text-xs text-muted-foreground border-t border-border pt-1 mt-1">EXPERIENCE</div>
                                            <div class="text-xs">• Professional layout</div>
                                            <div class="text-xs">• Clean design</div>
                                            <div class="text-xs">• Modern style</div>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <input type="file" id="jsonFileInput" accept=".json" class="hidden" onchange="handleJSONFileSelect(event)">
                    </section>

                    <!-- Personal Information -->
                    <section class="mb-8 space-y-4 border-b border-border pb-8">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold tracking-tight">Personal Information</h2>
                            <p class="text-sm text-muted-foreground">Enter your contact details</p>
                        </div>
                        <div class="grid gap-4">
                            <div class="space-y-2">
                                <label for="name" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Full Name
                                    <span class="text-destructive">*</span>
                                </label>
                                <input type="text" id="name" name="name" required placeholder="John Doe" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="photo" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Profile Photo</label>
                                <input type="file" id="photo" name="photo" accept="image/*" onchange="handlePhotoUpload(event)" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                                <div id="photoPreview" class="mt-2 hidden">
                                    <img id="photoPreviewImg" src="" alt="Profile photo preview" class="w-24 h-24 object-cover rounded-full border-2 border-border">
                                    <button type="button" onclick="removePhoto()" class="mt-2 text-sm text-destructive hover:underline">Remove photo</button>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <label for="title" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Job Title/Position</label>
                                <input type="text" id="title" name="title" placeholder="Frontend Developer" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="phone" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Phone Number</label>
                                <input type="tel" id="phone" name="phone" placeholder="+1 234 567 8900" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="birthdate" class=" font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Date of Birth</label>
                                <input type="date" id="birthdate" name="birthdate" class="flex flex-col justify-between h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="cityOfBirth" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">City of Birth</label>
                                <input type="text" id="cityOfBirth" name="cityOfBirth" placeholder="Surakarta" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="location" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Location/Address</label>
                                <input type="text" id="location" name="location" placeholder="City, Country" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="website" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Website</label>
                                <input type="url" id="website" name="website" placeholder="https://example.com" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="email" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Email
                                    <span class="text-destructive">*</span>
                                </label>
                                <input type="email" id="email" name="email" required placeholder="john@example.com" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="linkedin" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">LinkedIn</label>
                                <input type="text" id="linkedin" name="linkedin" placeholder="john-doe" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="github" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">GitHub</label>
                                <input type="text" id="github" name="github" placeholder="github.com/johndoe" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="dribbble" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Dribbble</label>
                                <input type="text" id="dribbble" name="dribbble" placeholder="dribbble.com/johndoe" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="instagram" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Instagram</label>
                                <input type="text" id="instagram" name="instagram" placeholder="instagram.com/johndoe" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            <div class="space-y-2">
                                <label for="about" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">About/Bio</label>
                                <textarea id="about" name="about" rows="4" placeholder="Brief description about yourself..." class="flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"></textarea>
                            </div>
                            <div class="space-y-2">
                                <label for="hobbies" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Hobbies & Interests (one per line)</label>
                                <textarea id="hobbies" name="hobbies" rows="3" placeholder="Apple device&#10;Movie&#10;Book" class="flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"></textarea>
                            </div>
                        </div>
                    </section>

                    <!-- Education -->
                    <section class="mb-8 space-y-4 border-b border-border pb-8">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold tracking-tight">Education</h2>
                            <p class="text-sm text-muted-foreground">Add your educational background</p>
                        </div>
                        <div id="educationContainer" class="space-y-4">
                            <!-- Education entries will be added here when user clicks "Add Education" -->
                        </div>
                        <button type="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5" onclick="addEducation()">+ Add Education</button>
                    </section>

                    <!-- Experience -->
                    <section class="mb-8 space-y-4 border-b border-border pb-8">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold tracking-tight">Experience</h2>
                            <p class="text-sm text-muted-foreground">Add your work experience</p>
                        </div>
                        <div id="experienceContainer" class="space-y-4">
                            <!-- Experience entries will be added here when user clicks "Add Experience" -->
                        </div>
                        <button type="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5" onclick="addExperience()">+ Add Experience</button>
                    </section>

                    <!-- Volunteer Experience -->
                    <section class="mb-8 space-y-4 border-b border-border pb-8">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold tracking-tight">Volunteer Experience</h2>
                            <p class="text-sm text-muted-foreground">Add your volunteer work and community involvement</p>
                        </div>
                        <div id="volunteerContainer" class="space-y-4">
                            <!-- Volunteer entries will be added here when user clicks "Add Volunteer Experience" -->
                        </div>
                        <button type="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5" onclick="addVolunteer()">+ Add Volunteer Experience</button>
                    </section>

                    <!-- Publications -->
                    <section class="mb-8 space-y-4 border-b border-border pb-8">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold tracking-tight">Publications</h2>
                            <p class="text-sm text-muted-foreground">List your publications</p>
                        </div>
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none">Publications (one per line, format: [1] Author, "Title", in Conference, Date, pp. pages)</label>
                            <textarea id="publications" rows="5" class="flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" placeholder='[1] N. Surname and S. Person, "Placeholder Paper Title", in 2020 Placeholder Conference Title, Apr. 2020, pp. 1234-1235.'></textarea>
                        </div>
                    </section>

                    <!-- Skills -->
                    <section class="mb-8 space-y-4 border-b border-border pb-8">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold tracking-tight">Skills</h2>
                            <p class="text-sm text-muted-foreground">List your skills and technologies</p>
                        </div>
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none">Skills (one per line, format: Skill Group: List of technologies)</label>
                            <textarea id="skills" rows="4" class="flex min-h-[96px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" placeholder="Programming Languages: Python, JavaScript, Java&#10;Frameworks: React, Django, Flask"></textarea>
                        </div>
                    </section>

                    <!-- Languages -->
                    <section class="mb-8 space-y-4 border-b border-border pb-8">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold tracking-tight">Languages</h2>
                            <p class="text-sm text-muted-foreground">Add languages you speak</p>
                        </div>
                        <div id="languagesContainer" class="space-y-4">
                            <!-- Language entries will be added here when user clicks "Add Language" -->
                        </div>
                        <button type="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5" onclick="addLanguage()">+ Add Language</button>
                    </section>

                    <!-- Projects -->
                    <section class="mb-8 space-y-4 border-b border-border pb-8">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold tracking-tight">Projects</h2>
                            <p class="text-sm text-muted-foreground">Add your projects</p>
                        </div>
                        <div id="projectsContainer" class="space-y-4">
                            <!-- Project entries will be added here when user clicks "Add Project" -->
                        </div>
                        <button type="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5" onclick="addProject()">+ Add Project</button>
                    </section>

                    <!-- Scholarships and Awards -->
                    <section class="mb-8 space-y-4 border-b border-border pb-8">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold tracking-tight">Scholarships and Awards</h2>
                            <p class="text-sm text-muted-foreground">List your achievements</p>
                        </div>
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none">Awards (one per line, format: Award Name ..... Year)</label>
                            <textarea id="awards" rows="5" class="flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" placeholder="Some Scholarship ..... 2018-2020&#10;Some Award ..... 2018"></textarea>
                        </div>
                    </section>

                </form>

                <!-- CV Preview Section -->
                <section id="cvPreviewSection" class="cv-preview-section hidden bg-background print:block print:p-0 print:m-0 print:bg-white print:border-0">
                    <div class="sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border print:hidden">
                        <div class="container mx-auto px-4 py-4">
                            <div class="flex flex-col sm:flex-row gap-4 items-center justify-between">
                                <h2 class="text-lg font-semibold">CV Preview</h2>
                                <div class="flex flex-col sm:flex-row gap-4">
                                    <button onclick="printCV()" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-2.5">Print CV</button>
                                    <button onclick="hidePreview()" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-secondary text-secondary-foreground hover:bg-secondary/80 h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-2.5">Back to Edit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-center items-start px-4 py-6 print:p-0 print:m-0">
                        <div
                            id="cvPreview" class="cv-preview bg-card rounded-lg border border-border shadow-lg p-6 md:p-8 print:shadow-none print:rounded-none print:border-0 print:p-6 print:m-0 print:bg-white"><!-- CV content will be generated here -->
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <script>
            // Drawer functionality
            let drawerOpen = false;
            
            function toggleDrawer() {
                const drawer = document.getElementById('leftDrawer');
                const drawerToggle = document.getElementById('drawerToggle');
                const drawerToggleText = document.getElementById('drawerToggleText');
                const toggleIcon = document.getElementById('drawerToggleIcon');
                const mainContent = document.getElementById('mainContent');
                const drawerItems = document.querySelectorAll('.drawer-item-content');
                
                drawerOpen = !drawerOpen;
                
                if (drawerOpen) {
                    drawer.classList.remove('drawer-closed');
                    drawer.classList.add('drawer-open');
                    // Hide text with smooth transition
                    drawerToggleText.style.opacity = '0';
                    drawerToggleText.style.transform = 'scale(0.8)';
                    setTimeout(() => {
                        drawerToggleText.classList.add('hidden');
                    }, 150);
                    // Resize button smoothly (smaller when open)
                    drawerToggle.style.width = '80px';
                    drawerToggle.style.height = '80px';
                    drawerToggle.style.right = '-48px';
                    // Resize icon smoothly
                    toggleIcon.style.width = '48px';
                    toggleIcon.style.height = '48px';
                    mainContent.style.marginLeft = '280px';
                    drawerItems.forEach(item => {
                        item.classList.remove('hidden');
                    });
                } else {
                    drawer.classList.remove('drawer-open');
                    drawer.classList.add('drawer-closed');
                    // Show text with smooth transition (bigger when closed)
                    drawerToggleText.classList.remove('hidden');
                    setTimeout(() => {
                        drawerToggleText.style.opacity = '1';
                        drawerToggleText.style.transform = 'scale(1)';
                    }, 10);
                    // Resize button smoothly
                    drawerToggle.style.width = '120px';
                    drawerToggle.style.height = '120px';
                    drawerToggle.style.right = '-145px';
                    // Resize icon smoothly
                    toggleIcon.style.width = '50px';
                    toggleIcon.style.height = '50px';
                    mainContent.style.marginLeft = '0px';
                    drawerItems.forEach(item => {
                        item.classList.add('hidden');
                    });
                }
            }
            
            function selectDrawerItem(element, itemId) {
                // Remove active class from all items
                document.querySelectorAll('.drawer-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                // Add active class to selected item
                element.classList.add('active');
                
                // Handle item selection (you can add custom logic here)
                console.log('Selected item:', itemId);
            }
            
            // Image Modal functions
            function openImageModal() {
                const modal = document.getElementById('imageModal');
                if (modal) {
                    modal.classList.remove('hidden');
                    modal.style.zIndex = '9999';
                    modal.classList.add('flex');
                    document.body.style.overflow = 'hidden'; // Prevent background scrolling
                }
            }
            
            function closeImageModal(event) {
                // If event is provided and it's from clicking the backdrop, close
                // If event is from the close button, also close
                const modal = document.getElementById('imageModal');
                if (modal) {
                    modal.classList.add('hidden');
                    modal.style.zIndex = '0';
                    modal.classList.remove('flex');
                    document.body.style.overflow = ''; // Restore scrolling
                }
            }
            
            // Close modal on Escape key
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape') {
                    closeImageModal();
                }
            });
            
            // Initialize drawer state
            document.addEventListener('DOMContentLoaded', function() {
                const drawer = document.getElementById('leftDrawer');
                const mainContent = document.getElementById('mainContent');
                const drawerItems = document.querySelectorAll('.drawer-item-content');
                
                if (drawer && mainContent) {
                    // Start with drawer closed
                    drawer.classList.add('drawer-closed');
                    mainContent.style.marginLeft = '0px';
                    mainContent.style.transition = 'margin-left 0.3s ease-in-out';
                    if (drawerItems.length > 0) {
                        drawerItems.forEach(item => {
                            item.classList.add('hidden');
                        });
                    }
                }
            });
            
            // Theme switching functionality
            (function () {
                const themeToggle = document.getElementById('themeToggle');
                const sunIcon = document.getElementById('sunIcon');
                const moonIcon = document.getElementById('moonIcon');
                const html = document.documentElement;

                // Get saved theme or default to light
                const savedTheme = localStorage.getItem('theme') || 'light';

                // Apply saved theme on page load
                function applyTheme(theme) {
                    if (theme === 'dark') {
                        html.classList.add('dark');
                        sunIcon.classList.add('hidden');
                        moonIcon.classList.remove('hidden');
                    } else {
                        html.classList.remove('dark');
                        sunIcon.classList.remove('hidden');
                        moonIcon.classList.add('hidden');
                    }
                }

                // Initialize theme
                applyTheme(savedTheme);

                // Toggle theme on button click
                themeToggle.addEventListener('click', () => {
                    const currentTheme = html.classList.contains('dark') ? 'dark' : 'light';
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

                    applyTheme(newTheme);
                    localStorage.setItem('theme', newTheme);
                });
            })();
        </script>
        <script src="script.js"></script>
    </body>
</html>

